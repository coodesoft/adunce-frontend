<div class="panel-heading centered">
	Carga masiva de afiliados {{termino}}
</div>
<div class="panel-body massive-load">
	<ng-csv-import content="csv.content"
    header="csv.header"
    separator="csv.separator"
    result="csv.result"
    accept="csv.accept"></ng-csv-import>
		<input class="btn btn-default" type="button" ng-click="massiveLoadAffiliates()" value="Load" ng-show="csv.result!=null"/>
		<div class="table-responsive">
			<table class="table table-striped table-condensed" style="width:100%" ng-init="count=0">
				<tr class="header">
					<th>#</th>
					<th>Username</th>
					<th>Nombre</th>
					<th>Apellido</th>
					<th>Mail</th>
					<th>Cant Hijos</th>
					<th>Datos Hijos</th>
					<th>Familiar</th>
					<th>Vehiculo</th>
				</tr>
				<tr ng-repeat="afiliado in massiveLoadList" >
					<td>{{$index +1}}</td>
					<td class="username edit" ng-show="editable[$index]">
						<div class="input-group input-group-sm">
				      <input type="text" class="form-control" ng-model="afiliado.username">
							<span class="input-group-btn">
				        <button class="btn btn-default" type="button" ng-click="editable[$index]=false">
				        	<span class="glyphicon glyphicon-ok"></span>
				        </button>
								<button class="btn btn-default" type="button" ng-click="afiliado.username=oldUser[$index];editable[$index]=false;">
				        	<span class="glyphicon glyphicon-remove"></span>
				        </button>
				      </span>
				    </div><!-- /input-group {{afiliado.username}}-->
					</td>
					<td class="username show" ng-show="!editable[$index]" ng-click="editable[$index]=true;oldUser[$index]=afiliado.username;"><span ng-bind="afiliado.username"></span><span class="icon glyphicon glyphicon-pencil"></span></td>
					<td>{{afiliado.nombre}}</td>
					<td>{{afiliado.apellido}}</td>
					<td>{{afiliado.email}}</td>
					<td>{{afiliado.cantidadHijos}}</td>
					<td><p ng-repeat="hijo in afiliado.hijos">{{hijo.fechaNacimiento}} - {{hijo.sexo}}</p></td>
					<td><span class="glyphicon" ng-class="afiliado.familiarACargo ? 'icon-green glyphicon-ok':' icon-red glyphicon-remove'"></span></td>
					<td><span class="glyphicon" ng-class="afiliado.tieneVehiculo ? 'icon-green glyphicon-ok':'icon-red glyphicon-remove'"></span></td>
				</tr>
			</table>
		</div>

</div>
