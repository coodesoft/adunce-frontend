<div class="panel-heading centered">
	Agregar afiliado
</div>
<div class="panel-body">
	<form name="addAfiliadoForm" ng-submit="addAfiliado()">
		<div class="form-group">
			<label for="nombre">Nombre:</label>
			<input class="form-control" type="text" ng-model="newAfiliado.nombre" id="nombre" name="nombre" placeholder="John" required/>
		</div>
		<div class="form-group">
			<label for="apellido">Apellido:</label>
			<input class="form-control" type="text" id="apellido" name="apellido" ng-model="newAfiliado.apellido" placeholder="Doe" required/>
		</div>
		<div class="form-group">
			<label for="nombre-usuario">Nombre de usuario:</label>
			<input class="form-control" type="text" ng-model="newAfiliado.username" id="nombre-usuario" name="nombre-usuario" placeholder="jdoe"/>
		</div>
		<div class="form-group">
			<label for="passwrd">Contraseña:</label>
			<input class="form-control" type="password" ng-model="newAfiliado.passsword" id="password" name="password" placeholder="John"/>
		</div>
		<div class="form-group">
			<label for="email">Email:</label>
			<input class="form-control" type="email" id="email" name="email" ng-model="newAfiliado.email" placeholder="email@example.com" required/>
		</div>
		<div class="form-group" ng-init="getGrupos()">
			<label for="grupos">Grupos</label>
			<ui-select name="grupos" id="grupos" multiple ng-model="newAfiliado.grupos">
				<ui-select-match placeholder="">{{$item.shortname}} - {{$item.nombre}}</ui-select-match>
				<ui-select-choices repeat="grupo.shortname as grupo in grupos">
					<span>{{grupo.nombre}}</span>
				</ui-select-choices>
			</ui-select>
		</div>
		<div class="panel panel-default">
		  	<!-- Default panel contents -->
		  	<div class="panel-heading"><label>Carga de Hijos</label></div>
		  	<div class="panel-body">
		  		<div class="col-lg-12 col-md-12 col-xs-12">
		  			Agregar los hijos del afiliado que se está agregando.
		  		</div>
		  		<div class="fieldset">
						<div class="form-group col-lg-4 col-md-4 col-xs-12">
							<label for="dni">Dni:</label>
							<input class="form-control" type="text" ng-model="newHijo.id" id="dni" name="dni" placeholder="40989238"/>
						</div>
						<div class="form-group col-lg-4 col-md-4 col-xs-12">
							<label for="sexo">Sexo:</label>
							<ui-select name="sexo" id="sexo" ng-model="newHijo.sexo">
								<ui-select-match placeholder="">{{$select.selected.value}}</ui-select-match>
								<ui-select-choices repeat="value.id as value in sexoOpts">
									<span>{{value.value}}</span>
								</ui-select-choices>
							</ui-select>
						</div>
						<div class="form-group col-lg-4 col-md-4 col-xs-12">
				            <label for="fechaNacimiento">Fecha Nacimiento:</label>
				            <p class="input-group">
				              <input type="text" class="form-control" name="fechaNacimiento" id="fechaNacimiento" datepicker-append-to-body="true" datepicker-popup="dd-MMMM-yyyy" ng-model="newHijo.fechaNacimiento" is-open="opened" datepicker-options="dateOptions" date-disabled="disabled(date, mode)" close-text="Close" />
				              <span class="input-group-btn">
				                <button type="button" class="btn btn-default" ng-click="open($event)"><i class="glyphicon glyphicon-calendar"></i></button>
				              </span>
				            </p>
					  </div>
						<div class="form-group col-lg-12 col-md-12 col-xs-12">
							<input class="btn btn-default" type="button" value="Agregar" ng-click="addHijo()" />
						</div>
					</div>
		  	</div>

			<table ng-show="!(newAfiliado.hijos.length===0)" class="table table-hover">
				<tbody>
					<tr>
						<th>Sexo</th>
						<th>Fecha de nacimiento</th>
						<th>Acciones</th>
					</tr>
					<tr ng-repeat="hijo in newAfiliado.hijos">
						<td>{{hijo.sexo==="masculino"?"Masculino":"Femenino"}}</td>
						<td>{{hijo.fechaNacimiento | date: 'dd-MM-yyyy'}}</td>
						<td><div class="btn" href="" ng-click="removeHijo($index)"><span class="glyphicon glyphicon-trash" aria-hidden="true"></span></div></td>
					</tr>
				</tbody>
			</table>
		</div>

		<div class="form-group">	
			<div class="col-md-2">
				<input class="btn btn-default" type="submit" value="Agregar Afiliado"></input>
			</div>
			<div class="col-md-9">
				<cmp-alert status="status">{{actualMsg}}</cmp-alert>
			</div>
		</div>		
	</form>
</div>
